# Eternal bash history.
# ---------------------
# Undocumented feature which sets the size to "unlimited".
# http://stackoverflow.com/questions/9457233/unlimited-bash-history
export HISTFILESIZE=
export HISTSIZE=
export HISTTIMEFORMAT="[%F %T] "
# Change the file location because certain bash sessions truncate .bash_history file upon close.
# http://superuser.com/questions/575479/bash-history-truncated-to-500-lines-on-each-login
export HISTFILE=~/.bash_eternal_history
# To erase duplicates from history
#export HISTCONTROL=erasedups
# Force prompt to write history after every command.
# http://superuser.com/questions/20900/bash-history-loss
export PROMPT_COMMAND="${PROMPT_COMMAND:+$PROMPT_COMMAND ;} history -a"

## To color less, man, etc
# The following line is to highliht syntax
export LESSOPEN="| /usr/bin/src-hilite-lesspipe.sh %s"
export LESS=' -R '
export LESS_TERMCAP_mb=$'\E[1;31m'     # begin bold
export LESS_TERMCAP_md=$'\E[1;36m'     # begin blink
export LESS_TERMCAP_me=$'\E[0m'        # reset bold/blink
export LESS_TERMCAP_so=$'\E[01;44;33m' # begin reverse video
export LESS_TERMCAP_se=$'\E[0m'        # reset reverse video
export LESS_TERMCAP_us=$'\E[1;32m'     # begin underline
export LESS_TERMCAP_ue=$'\E[0m'
## export LESS_TERMCAP_mr=$(tput rev)
## export LESS_TERMCAP_mh=$(tput dim)
## export LESS_TERMCAP_ZV=$(tput rsubm)
## export LESS_TERMCAP_ZO=$(tput ssupm)
## export LESS_TERMCAP_ZW=$(tput rsupm)

## export LESS_TERMCAP_mb=$(tput bold; tput setaf 2) # green
## export LESS_TERMCAP_md=$(tput bold; tput setaf 6) # cyan
## export LESS_TERMCAP_me=$(tput sgr0)
## export LESS_TERMCAP_so=$(tput bold; tput setaf 3; tput setab 4) # yellow on blue
## export LESS_TERMCAP_se=$(tput rmso; tput sgr0)
## export LESS_TERMCAP_us=$(tput smul; tput bold; tput setaf 7) # white
## export LESS_TERMCAP_ue=$(tput rmul; tput sgr0)
## export LESS_TERMCAP_mr=$(tput rev)
## export LESS_TERMCAP_mh=$(tput dim)
## export LESS_TERMCAP_ZN=$(tput ssubm)
## export LESS_TERMCAP_ZV=$(tput rsubm)
## export LESS_TERMCAP_ZO=$(tput ssupm)
## export LESS_TERMCAP_ZW=$(tput rsupm)
## export GROFF_NO_SGR=1         # For Konsole and Gnome-terminal

# Get color support for 'less'
export LESS="--RAW-CONTROL-CHARS"

## To color man
## man() {
##     LESS_TERMCAP_md=$'\e[01;31m' \
##     LESS_TERMCAP_me=$'\e[0m' \
##     LESS_TERMCAP_se=$'\e[0m' \
##     LESS_TERMCAP_so=$'\e[01;44;33m' \
##     LESS_TERMCAP_ue=$'\e[0m' \
##     LESS_TERMCAP_us=$'\e[01;32m' \
##     command man "$@"
## }  


## To use solarized dircolors for ls
eval `dircolors ~/.config/dircolors.ansi-dark`


## To prevent nested ranger instances
ranger() {
    if [ -z "$RANGER_LEVEL" ]; then
        /usr/bin/ranger "$@"
    else
        exit
    fi
}
# Set the default editor
export EDITOR="vim"
export EDITOR2="emacsclient -cn"

# To start emacs in daemon mode automatically
#export ALTERNATE_EDITOR=""
#export EDITOR=emacsclient

# To use the system theme on calibre
export CALIBRE_USE_SYSTEM_THEME=true

# Go source binaries ecc.
export GOPATH="/mnt/internal/ProgrammingData/gopath"

# Export path (N.B. already exported at a system level at /etc/profile)
export PATH="$PATH:$GOPATH/bin"

# Autojump must be sourced here if you want to use it in subshells also (f.e. 
# when launching a subshell from ranger)
. /etc/profile.d/autojump.bash

# Bash coloring
GREEN="\[$(tput setaf 2)\]"
RESET="\[$(tput sgr0)\]"

export PS1="${GREEN}\u@\h:\W>${RESET}" 


# GPG variables
GPG_TTY=$(tty)
export GPG_TTY

# To override vimrc default location
# Set vimrc's location and source it on vim startup
export VIMINIT='let $MYVIMRC="$XDG_CONFIG_HOME/vim/vimrc" | source $MYVIMRC'

# Export also bins in opt
export PATH="$PATH:/opt/tigerjack/bin"

# Set matlab to use the userpath folder (first run userpath('dir_name') inside matlab
export MATLAB_USE_USERWORK=1
# Set matlab log directory
MATLAB_LOG_DIR=~/logs/matlab/
