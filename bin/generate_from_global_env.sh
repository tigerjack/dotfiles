#!/bin/bash - 
#===============================================================================
#
#          FILE: generate_from_global_env.sh
# 
#         USAGE: ./generate_from_global_env.sh 
# 
#   DESCRIPTION: 
# 
#       OPTIONS: ---
#  REQUIREMENTS: ---
#          BUGS: ---
#         NOTES: ---
#        AUTHOR: YOUR NAME (), 
#  ORGANIZATION: 
#       CREATED: 09/05/2019 21:05
#      REVISION:  ---
#===============================================================================

set -o nounset                              # Treat unset variables as an error
declare -a arr=("$XDG_CONFIG_HOME/user-dirs.dirs" "$XDG_CONFIG_HOME/taskwarrior/taskrc" "$XDG_CONFIG_HOME/i3/config");
for i in ${arr[@]};
do
    echo "Replacing vars in $i.template"
    echo -e "#WARNING: autogenerated with bin/generate_user_dirs.sh,\n#change the .template file and rerun the script" > "$i" 
    envsubst < "$i.template" >> "$i"
done
